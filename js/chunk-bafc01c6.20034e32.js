(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bafc01c6"],{"06c3":function(e,t,r){e.exports=r.p+"img/trash-can-solid.4839a2f8.svg"},"2a0e":function(e,t,r){"use strict";var c=r("7a23"),o=r("06c3"),n=r.n(o),a={class:"w-full text-center"},i={class:"border-b-2"},l=Object(c["i"])("th",{class:"w-1/3"},"商品名稱",-1),s=Object(c["i"])("th",{class:"w-1/6"},"單價",-1),d=Object(c["i"])("th",{class:"w-1/6"},"數量",-1),u=Object(c["i"])("th",{class:"w-1/6"},"小計",-1),b={key:0,class:"w-1/6"},O={class:"flex flex-col items-center py-3 lg:flex-row"},j=["src","alt"],p=["onUpdate:modelValue","onChange"],m={key:1},f={key:0},h=["onClick"],g=Object(c["i"])("td",null,null,-1),y=Object(c["i"])("td",null,null,-1),v=Object(c["i"])("td",null,null,-1),w={class:"pt-2"},x={key:0};function k(e,t,r,o,k,C){return Object(c["y"])(),Object(c["h"])("table",a,[Object(c["i"])("thead",null,[Object(c["i"])("tr",i,[l,s,d,u,r.order?Object(c["g"])("",!0):(Object(c["y"])(),Object(c["h"])("th",b,"刪除"))])]),Object(c["i"])("tbody",null,[(Object(c["y"])(!0),Object(c["h"])(c["a"],null,Object(c["F"])(r.products,(function(e){return Object(c["y"])(),Object(c["h"])("tr",{key:e.id,class:"border-b-[1px]"},[Object(c["i"])("td",O,[Object(c["i"])("img",{src:e.product.imageUrl,alt:e.product.title,class:"w-[100px] mb-2 lg:mb-0 lg:mr-6 object-cover"},null,8,j),Object(c["i"])("p",null,Object(c["K"])(e.product.title),1)]),Object(c["i"])("td",null,Object(c["K"])(e.product.price),1),Object(c["i"])("td",null,[r.order?Object(c["g"])("",!0):Object(c["V"])((Object(c["y"])(),Object(c["h"])("input",{key:0,type:"number",name:"",id:"","onUpdate:modelValue":function(t){return e.qty=t},class:"w-full px-3 border-2 rounded-lg",onChange:function(t){return C.changeProductQuantity(e)}},null,40,p)),[[c["P"],e.qty]]),r.order?(Object(c["y"])(),Object(c["h"])("p",m,Object(c["K"])(e.qty),1)):Object(c["g"])("",!0)]),Object(c["i"])("td",null,Object(c["K"])(e.final_total),1),r.order?Object(c["g"])("",!0):(Object(c["y"])(),Object(c["h"])("td",f,[Object(c["i"])("img",{src:n.a,alt:"刪除",class:"w-[20px] h-[20px] mx-auto hover:scale-150",onClick:function(t){return C.deleteProduct(e.id)}},null,8,h)]))])})),128)),Object(c["i"])("tr",null,[g,y,v,Object(c["i"])("td",null,[Object(c["i"])("p",w,Object(c["K"])(C.sumsPriceTotal),1)]),r.order?Object(c["g"])("",!0):(Object(c["y"])(),Object(c["h"])("td",x,[Object(c["i"])("img",{src:n.a,alt:"刪除",class:"w-[20px] h-[20px] mx-auto hover:scale-150",onClick:t[0]||(t[0]=function(){return C.deleteProduct&&C.deleteProduct.apply(C,arguments)})})]))])])])}r("d3b7");var C={props:{products:{type:Array,relative:!0},order:{type:Boolean,relative:!1}},emits:["change-product-quantity","delete-product"],data:function(){return{productList:[]}},computed:{sumsPriceTotal:function(){return this.products?this.products.reduce((function(e,t){var r=e+t.final_total;return r}),0):0}},watch:{},methods:{changeProductQuantity:function(e){if(e.qty<1)this.deleteProduct(e.id);else{var t={id:e.id,data:{product_id:e.product_id,qty:e.qty}};this.$emit("change-product-quantity",t)}},deleteProduct:function(e){this.$emit("delete-product",e)}}},I=r("6b0d"),K=r.n(I);const P=K()(C,[["render",k]]);t["a"]=P},"37db":function(e,t,r){"use strict";var c=r("7a23"),o={class:"grid grid-cols-1 mb-8 lg:text-lg sm:grid-cols-3"};function n(e,t,r,n,a,i){return Object(c["y"])(),Object(c["h"])("ul",o,[Object(c["i"])("li",{class:Object(c["s"])("cart"===r.mode?["breadcrumb-active","breadcrumb-active-right-arrow"]:["breadcrumb-item","breadcrumb-right-arrow"])}," 購物車 ",2),Object(c["i"])("li",{class:Object(c["s"])("information"===r.mode?["breadcrumb-active","breadcrumb-active-right-arrow"]:["breadcrumb-item","breadcrumb-right-arrow"])}," 輸入訂購人資訊 ",2),Object(c["i"])("li",{class:Object(c["s"])("check"===r.mode?"breadcrumb-active":"breadcrumb-item")},"確認訂單詳情",2)])}var a={props:["mode"]},i=(r("c676"),r("6b0d")),l=r.n(i);const s=l()(a,[["render",n],["__scopeId","data-v-5c504197"]]);t["a"]=s},"93ee":function(e,t,r){},a899:function(e,t,r){"use strict";r.r(t);r("b0c0");var c=r("7a23"),o={class:"p-4 mt-3 mb-5 bg-gray-100 rounded-lg"},n={class:"flex mb-2"},a=Object(c["i"])("p",{class:"mr-2"},"姓名：",-1),i={class:"flex mb-2"},l=Object(c["i"])("p",{class:"mr-2"},"電話：",-1),s={class:"flex mb-2"},d=Object(c["i"])("p",{class:"mr-2"},"Email：",-1),u={class:"flex mb-2"},b=Object(c["i"])("p",{class:"mr-2"},"地址：",-1),O={class:"flex mb-2"},j=Object(c["i"])("p",{class:"mr-2"},"留言：",-1),p={class:"max-w-[500px] ml-auto flex gap-4"},m=Object(c["j"])("上一步"),f=Object(c["j"])("送出"),h=Object(c["i"])("p",null,"請務必記下訂單編號。( 可用於查詢訂單狀態 )",-1);function g(e,t,r,g,y,v){var w=Object(c["H"])("breadcrumb"),x=Object(c["H"])("cart-product-list"),k=Object(c["H"])("base-btn"),C=Object(c["H"])("router-link"),I=Object(c["H"])("base-loading"),K=Object(c["H"])("base-dialog");return Object(c["y"])(),Object(c["h"])(c["a"],null,[Object(c["k"])(w,{mode:"check"}),Object(c["k"])(x,{products:v.cartData,order:""},null,8,["products"]),Object(c["i"])("ul",o,[Object(c["i"])("li",n,[a,Object(c["i"])("p",null,Object(c["K"])(y.order.name),1)]),Object(c["i"])("li",i,[l,Object(c["i"])("p",null,Object(c["K"])(y.order.phone),1)]),Object(c["i"])("li",s,[d,Object(c["i"])("p",null,Object(c["K"])(y.order.email),1)]),Object(c["i"])("li",u,[b,Object(c["i"])("p",null,Object(c["K"])(y.order.address),1)]),Object(c["i"])("li",O,[j,Object(c["i"])("p",null,Object(c["K"])(y.order.message),1)])]),Object(c["i"])("div",p,[Object(c["k"])(C,{to:"/orderinformation"},{default:Object(c["U"])((function(){return[Object(c["k"])(k,{outline:"",class:"flex-1"},{default:Object(c["U"])((function(){return[m]})),_:1})]})),_:1}),Object(c["k"])(k,{class:"flex-1",onClick:v.sendOrder},{default:Object(c["U"])((function(){return[f]})),_:1},8,["onClick"])]),Object(c["k"])(I,{show:y.isLoading},null,8,["show"]),Object(c["k"])(K,{show:!!y.error,title:"Error",onClose:v.closeError},{default:Object(c["U"])((function(){return[Object(c["j"])(Object(c["K"])(y.error),1)]})),_:1},8,["show","onClose"]),Object(c["k"])(K,{show:!!y.orderId,title:"已建立訂單",onClose:v.closeOrderId},{default:Object(c["U"])((function(){return[Object(c["i"])("p",null,"您的訂單編號是："+Object(c["K"])(y.orderId),1),h]})),_:1},8,["show","onClose"])],64)}var y=r("1da1"),v=(r("96cf"),r("ac1f"),r("5319"),r("2a0e")),w=r("37db"),x={components:{CartProductList:v["a"],Breadcrumb:w["a"]},data:function(){return{order:{},error:"",isLoading:!1,orderId:""}},computed:{cartData:function(){return this.$store.getters["forestageCart/cartData"]}},methods:{orderInformation:function(){var e,t;this.order=null!==(e=this.$store.getters["forestageOrder/orderInformation"])&&void 0!==e?e:{},void 0!==(null===(t=this.order)||void 0===t?void 0:t.name)&&0!==this.cartData.length||this.$router.replace("/cart")},sendOrder:function(){var e=this;return Object(y["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.isLoading=!0,t.next=4,e.$store.dispatch("forestageOrder/sendOrder");case 4:e.orderId=e.$store.getters["forestageOrder/orderId"],e.$store.dispatch("forestageOrder/orderInformation",""),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),e.error=t.t0;case 11:return t.prev=11,e.isLoading=!1,t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[0,8,11,14]])})))()},closeError:function(){this.error=""},closeOrderId:function(){this.orderId="",this.$router.replace("/order")}},mounted:function(){this.orderInformation()}},k=r("6b0d"),C=r.n(k);const I=C()(x,[["render",g]]);t["default"]=I},c676:function(e,t,r){"use strict";r("93ee")}}]);
//# sourceMappingURL=chunk-bafc01c6.20034e32.js.map