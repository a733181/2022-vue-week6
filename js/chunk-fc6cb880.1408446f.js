(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fc6cb880"],{"06c3":function(e,t,r){e.exports=r.p+"img/trash-can-solid.4839a2f8.svg"},"2a0e":function(e,t,r){"use strict";var c=r("7a23"),l=r("06c3"),o=r.n(l),n={class:"w-full text-center"},i={class:"border-b-2"},a=Object(c["i"])("th",{class:"w-1/3"},"商品名稱",-1),d=Object(c["i"])("th",{class:"w-1/6"},"單價",-1),s=Object(c["i"])("th",{class:"w-1/6"},"數量",-1),u=Object(c["i"])("th",{class:"w-1/6"},"小計",-1),b={key:0,class:"w-1/6"},O={class:"flex flex-col items-center py-3 lg:flex-row"},j=["src","alt"],p=["onUpdate:modelValue","onChange"],f={key:1},h={key:0},g=["onClick"],x=Object(c["i"])("td",null,null,-1),m=Object(c["i"])("td",null,null,-1),y=Object(c["i"])("td",null,null,-1),v={class:"pt-2"},w={key:0};function k(e,t,r,l,k,K){return Object(c["y"])(),Object(c["h"])("table",n,[Object(c["i"])("thead",null,[Object(c["i"])("tr",i,[a,d,s,u,r.order?Object(c["g"])("",!0):(Object(c["y"])(),Object(c["h"])("th",b,"刪除"))])]),Object(c["i"])("tbody",null,[(Object(c["y"])(!0),Object(c["h"])(c["a"],null,Object(c["F"])(r.products,(function(e){return Object(c["y"])(),Object(c["h"])("tr",{key:e.id,class:"border-b-[1px]"},[Object(c["i"])("td",O,[Object(c["i"])("img",{src:e.product.imageUrl,alt:e.product.title,class:"w-[100px] mb-2 lg:mb-0 lg:mr-6 object-cover"},null,8,j),Object(c["i"])("p",null,Object(c["K"])(e.product.title),1)]),Object(c["i"])("td",null,Object(c["K"])(e.product.price),1),Object(c["i"])("td",null,[r.order?Object(c["g"])("",!0):Object(c["V"])((Object(c["y"])(),Object(c["h"])("input",{key:0,type:"number",name:"",id:"","onUpdate:modelValue":function(t){return e.qty=t},class:"w-full px-3 border-2 rounded-lg",onChange:function(t){return K.changeProductQuantity(e)}},null,40,p)),[[c["P"],e.qty]]),r.order?(Object(c["y"])(),Object(c["h"])("p",f,Object(c["K"])(e.qty),1)):Object(c["g"])("",!0)]),Object(c["i"])("td",null,Object(c["K"])(e.final_total),1),r.order?Object(c["g"])("",!0):(Object(c["y"])(),Object(c["h"])("td",h,[Object(c["i"])("img",{src:o.a,alt:"刪除",class:"w-[20px] h-[20px] mx-auto hover:scale-150",onClick:function(t){return K.deleteProduct(e.id)}},null,8,g)]))])})),128)),Object(c["i"])("tr",null,[x,m,y,Object(c["i"])("td",null,[Object(c["i"])("p",v,Object(c["K"])(K.sumsPriceTotal),1)]),r.order?Object(c["g"])("",!0):(Object(c["y"])(),Object(c["h"])("td",w,[Object(c["i"])("img",{src:o.a,alt:"刪除",class:"w-[20px] h-[20px] mx-auto hover:scale-150",onClick:t[0]||(t[0]=function(){return K.deleteProduct&&K.deleteProduct.apply(K,arguments)})})]))])])])}r("d3b7");var K={props:{products:{type:Array,relative:!0},order:{type:Boolean,relative:!1}},emits:["change-product-quantity","delete-product"],data:function(){return{productList:[]}},computed:{sumsPriceTotal:function(){return this.products?this.products.reduce((function(e,t){var r=e+t.final_total;return r}),0):0}},watch:{},methods:{changeProductQuantity:function(e){if(e.qty<1)this.deleteProduct(e.id);else{var t={id:e.id,data:{product_id:e.product_id,qty:e.qty}};this.$emit("change-product-quantity",t)}},deleteProduct:function(e){this.$emit("delete-product",e)}}},P=r("6b0d"),I=r.n(P);const C=I()(K,[["render",k]]);t["a"]=C},d81d:function(e,t,r){"use strict";var c=r("23e7"),l=r("b727").map,o=r("1dde"),n=o("map");c({target:"Array",proto:!0,forced:!n},{map:function(e){return l(this,e,arguments.length>1?arguments[1]:void 0)}})},f27a:function(e,t,r){"use strict";r.r(t);r("fb6a"),r("b0c0");var c=r("7a23"),l={class:"mb-6"},o=Object(c["i"])("label",{for:"orderId",class:"text-2xl font-bold lg:text-lg"},"請輸入訂單編號",-1),n=Object(c["j"])("搜尋"),i={key:0},a=Object(c["i"])("h1",{class:"mb-3 text-2xl font-bold"},"訂單明細",-1),d={class:"p-4 mb-8 bg-gray-100 rounded-lg"},s={class:"flex gap-2"},u=Object(c["i"])("h3",null,"訂單編號：",-1),b={class:"flex gap-2"},O=Object(c["i"])("h3",null,"付款狀態：",-1),j={class:"flex gap-2"},p=Object(c["i"])("h3",{class:"ml-8"},"姓名：",-1),f={class:"flex gap-2"},h=Object(c["i"])("h3",{class:"ml-8"},"電話：",-1),g={class:"flex gap-2"},x=Object(c["i"])("h3",{class:"ml-8"},"地址：",-1),m={class:"flex gap-2"},y=Object(c["i"])("h3",{class:"ml-8"},"留言：",-1),v=Object(c["i"])("h2",{class:"mb-3 text-2xl font-bold"},"商品清單",-1),w={key:1,class:"text-3xl text-center"};function k(e,t,r,k,K,P){var I,C=Object(c["H"])("base-btn"),V=Object(c["H"])("cart-product-list"),q=Object(c["H"])("base-loading"),_=Object(c["H"])("base-dialog");return Object(c["y"])(),Object(c["h"])(c["a"],null,[Object(c["i"])("div",l,[Object(c["i"])("form",{action:"",class:"flex flex-col items-center gap-3 lg:flex-row",onSubmit:t[2]||(t[2]=Object(c["W"])((function(){return P.searchOrder&&P.searchOrder.apply(P,arguments)}),["prevent"]))},[o,Object(c["V"])(Object(c["i"])("input",{type:"text",name:"",id:"orderId",class:Object(c["s"])(["p-[7px] border-2 rounded-lg w-full lg:w-1/3 xl:w-1/6",{"border-red-300":K.orderId.isValue}]),onBlur:t[0]||(t[0]=function(e){return K.orderId.isValue=!1}),"onUpdate:modelValue":t[1]||(t[1]=function(e){return K.orderId.value=e})},null,34),[[c["P"],K.orderId.value,void 0,{trim:!0}]]),Object(c["k"])(C,{class:"w-full lg:w-20",submit:""},{default:Object(c["U"])((function(){return[n]})),_:1})],32)]),null!==(I=K.order)&&void 0!==I&&I.id?(Object(c["y"])(),Object(c["h"])("div",i,[a,Object(c["i"])("ul",d,[Object(c["i"])("li",s,[u,Object(c["i"])("p",null,Object(c["K"])(K.order.id),1)]),Object(c["i"])("li",b,[O,Object(c["i"])("p",{class:Object(c["s"])({"text-red-600":!K.order.is_paid})},Object(c["K"])(K.order.is_paid?"已付款":"未付款"),3)]),Object(c["i"])("li",j,[p,Object(c["i"])("p",null,Object(c["K"])(K.order.user.name.slice(0,1).toUpperCase())+"xx",1)]),Object(c["i"])("li",f,[h,Object(c["i"])("p",null,Object(c["K"])(K.order.user.tel.slice(0,4))+"xxxx",1)]),Object(c["i"])("li",g,[x,Object(c["i"])("p",null,Object(c["K"])(K.order.user.address.slice(0,3))+"xxxxxxxx",1)]),Object(c["i"])("li",m,[y,Object(c["i"])("p",null,Object(c["K"])(K.order.message),1)])]),v,Object(c["k"])(V,{products:K.products,order:""},null,8,["products"])])):Object(c["g"])("",!0),K.order?Object(c["g"])("",!0):(Object(c["y"])(),Object(c["h"])("p",w,"搜尋不到訂單，請確認訂單編號是否正確")),Object(c["k"])(q,{show:K.isLoading},null,8,["show"]),Object(c["k"])(_,{show:!!K.error,title:"Error",onClose:P.closeError},{default:Object(c["U"])((function(){return[Object(c["j"])(Object(c["K"])(K.error),1)]})),_:1},8,["show","onClose"])],64)}var K=r("1da1"),P=(r("96cf"),r("d81d"),r("4fad"),r("2a0e")),I={components:{CartProductList:P["a"]},data:function(){return{orderId:{value:"",isValue:!1},order:{},products:[],error:"",isLoading:!1}},methods:{searchOrder:function(){var e=this;return Object(K["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,""!==e.orderId.value){t.next=4;break}return e.orderId.isValue=!0,t.abrupt("return");case 4:return e.isLoading=!0,t.next=7,e.$store.dispatch("forestageOrder/getOrder",e.orderId.value);case 7:e.order=e.$store.getters["forestageOrder/order"],null===e.order?e.isLoading=!1:e.products=Object.entries(e.order.products).map((function(e){return e[1]})),e.orderId.value="",t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](0),e.error=t.t0;case 15:return t.prev=15,e.isLoading=!1,t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[0,12,15,18]])})))()},closeError:function(){this.error=""}}},C=r("6b0d"),V=r.n(C);const q=V()(I,[["render",k]]);t["default"]=q},fb6a:function(e,t,r){"use strict";var c=r("23e7"),l=r("da84"),o=r("e8b5"),n=r("68ee"),i=r("861d"),a=r("23cb"),d=r("07fa"),s=r("fc6a"),u=r("8418"),b=r("b622"),O=r("1dde"),j=r("f36a"),p=O("slice"),f=b("species"),h=l.Array,g=Math.max;c({target:"Array",proto:!0,forced:!p},{slice:function(e,t){var r,c,l,b=s(this),O=d(b),p=a(e,O),x=a(void 0===t?O:t,O);if(o(b)&&(r=b.constructor,n(r)&&(r===h||o(r.prototype))?r=void 0:i(r)&&(r=r[f],null===r&&(r=void 0)),r===h||void 0===r))return j(b,p,x);for(c=new(void 0===r?h:r)(g(x-p,0)),l=0;p<x;p++,l++)p in b&&u(c,l,b[p]);return c.length=l,c}})}}]);
//# sourceMappingURL=chunk-fc6cb880.1408446f.js.map